# Домашнее задание к занятию "`Репликация и масштабирование. Часть 2`" - `Хавилов Виталий`

---

### Задание 1

Опишите основные преимущества использования масштабирования методами:

`активный master-сервер и пассивный репликационный slave-сервер;`
- Создание реплики увеличивает доступность(отказоустойчивость) системы, данных хранятся дополнительно в отдельном контейнере/ноде, производительность - возможно чтение с реплики, тем самым не использовать ресурсы мастера


`master-сервер и несколько slave-серверов;`
- такие же как в случае master-сервер и пассивный репликационный slave-сервер с дополнительными преимуществами, такими как доп исбыточность ( у нас несколько копий на инстансах) и доп масштабированность
активный сервер со специальным механизмом репликации — distributed replicated block device (DRBD); - DRBD синхронизирует данные на нескольких узлах в режиме реального времени обеспечивая быстрое восстановление при сбое одного узла, использует механизм зеркалирования блоков, обеспечивая минимальные задержки записи данных, совместим с различными решениями для кластеризации, обеспечивая высокую доступность и масштабируемость
SAN-кластер - возможно добавлять СХД на базе iscsi, FC. сеть может достигать скорость до 128гбит по FC, обеспечивает централизованное хранилище данных, доступное для всех серверов в кластере, фабрике, масштабируемость, доступность - все на вышем уровне



---

### Задание 2

Разработайте план для выполнения горизонтального и вертикального шаринга базы данных.
База данных состоит из трёх таблиц:

План горизонтального и вертикального разбиения базы данных

Горизонтальное разбиение (шардинг)

Таблица "Пользователи" будет разделена по диапазонам идентификаторов пользователей.
Таблица "Книги" будет разделена по жанрам.
Таблица "Магазины" будет разделена по регионам.

Вертикальное разбиение

Из таблицы "Пользователи" будут выделены личные данные (имя, адрес, номер телефона) и перенесены в отдельную таблицу "Личная информация".

Из таблицы "Книги" будут выделены данные о продаже (количество проданных экземпляров, дата продажи) и перенесены в отдельную таблицу "Продажи".

Из таблицы "Магазины" будут выделены данные о местоположении (адрес, часы работы) и перенесены в отдельную таблицу "Местоположение".


```
                   +-------------------+
                   |     База данных 1   |
                   +-------------------+
                       |
                       V
                +---------------+
                |   Пользователи 1   |
                +---------------+
                       |
                       V
                +---------------+
                |   Книги 1 (художественная)   |
                +---------------+
                       |
                       V
                +---------------+
                |   Магазины 1 (Азия)   |
                +---------------+
                   |
                   V
                   +-------------------+
                   |     База данных 2   |
                   +-------------------+
                       |
                       V
                +---------------+
                |   Пользователи 2   |
                +---------------+
                       |
                       V
                +---------------+
                |   Книги 2 (нехудожественная)   |
                +---------------+
                       |
                       V
                +---------------+
                |   Магазины 2 (Европа)   |
                +---------------+
                   |
                   V
                   +-------------------+
                   |     База данных 3   |
                   +-------------------+
                       |
                       V
                +---------------+
                |   Личная информация   |
                +---------------+
                       |
                       V
                +---------------+
                |   Продажи   |
                +---------------+
                       |
                       V
                +---------------+
                |   Местоположение   |
                +---------------+
```

Принципы построения системы

Горизонтальное разбиение позволяет распределить нагрузку на несколько баз данных, обеспечивая масштабируемость.
Вертикальное разбиение оптимизирует структуру таблиц, удаляя избыточные данные и улучшая производительность запросов.

Разграничение между базами данных

База данных 1 хранит отсортированные по горизонтали таблицы "Пользователи", "Книги" и "Магазины" для одного региона или жанра.
База данных 2 хранит отсортированные по горизонтали таблицы "Пользователи", "Книги" и "Магазины" для другого региона или жанра.
База данных 3 хранит вертикально разделенные таблицы "Личная информация", "Продажи" и "Местоположение".

Режимы работы серверов

серверы, размещающие базы данных 1 и 2, будут работать в режиме чтения-записи.
сервер, размещающий базу данных 3, будет работать в режиме только для чтения.

